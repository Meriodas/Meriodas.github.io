(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15f76bae"],{"2f14":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("99af"),a("fb6a");var o=a("d4ec"),n=a("bee2"),r=function(){function t(){Object(o["a"])(this,t)}return Object(n["a"])(t,[{key:"queryString",value:function(t){var e="";for(var a in t)e+="".concat(a,"=").concat(t[a],"&");return e.slice(0,-1)}}]),t}(),s=new r},"305b":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Secure"},[a("div",{staticClass:"se-nav"},[a("van-nav-bar",{attrs:{title:"安全中心","left-text":"返回","right-text":"退出登陆","left-arrow":""},on:{"click-left":t.back,"click-right":t.logout}})],1),a("div",{staticClass:"se-box"},[a("van-cell",{attrs:{title:"修改密码","is-link":""},on:{click:t.showPopup}}),a("van-cell",{attrs:{title:"注销账号","is-link":""},on:{click:t.logoff}})],1),a("van-action-sheet",{staticStyle:{"font-weight":"bold"},attrs:{title:"修改密码"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"content"},[a("van-cell-group",[t._l(t.passwords,(function(e,o){return a("van-field",{key:o,attrs:{type:e.isPassword?"password":"text",placeholder:"密码首字母开头6到16位","right-icon":e.isPassword?"closed-eye":"eye-o",label:e.title},on:{"click-right-icon":function(a){return t.viewPassword(e)}},model:{value:e.password,callback:function(a){t.$set(e,"password",a)},expression:"item.password"}})})),a("van-button",{staticClass:"editpwd",attrs:{block:"",type:"info","native-type":"submit",color:"#212572"},on:{click:t.confirmPassword}},[t._v("确认修改密码")])],2)],1)])],1)},n=[],r=(a("d42c"),a("2f14")),s=a("a880"),i={data:function(){return{show:!1,passwords:{old:{password:"",isPassword:!0,title:"旧密码"},new:{password:"",isPassword:!0,title:"新密码"}}}},created:function(){},methods:{back:function(){this.$router.go(-1)},showPopup:function(){this.show=!0},viewPassword:function(t){t.isPassword=!t.isPassword},logout:function(){var t=this;this.$dialog.confirm({title:"警告",message:"你确定要退出当前账号"}).then((function(){t.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),localStorage.removeItem("RETK"),setTimeout((function(){t.$router.push({name:"Login"}),t.$toast.clear()}),1e3)}))},confirmPassword:function(){var t=this,e=localStorage.getItem("RETK");if(e){var a={oldPassword:{value:this.passwords.old.password,reg:/^[A-Za-z]\w{5,15}$/,errorMsg:"密码首字母开头6到16位"},password:{value:this.passwords.old.password,reg:/^[A-Za-z]\w{5,15}$/,errorMsg:"密码首字母开头6到16位"}};if(s["a"].valid(a)){var o=r["a"].queryString({appkey:this.appkey,tokenString:e,oldPassword:this.passwords.old.password,password:this.passwords.new.password});this.axios({method:"POST",url:"/updatePassword",data:o}).then((function(e){t.$toast.clear(),"E001"==e.data.code?(localStorage.removeItem("RETK"),t.$router.push({name:"Login"})):t.$notify({type:"warning",message:e.data.msg})})).catch((function(e){t.$toast.clear()}))}}},logoff:function(){var t=this;this.$dialog.confirm({title:"警告",message:"你确定要注销当前账号,一旦确认将无法恢复!"}).then((function(){有token;var e=localStorage.getItem("RETK");if(e){var a=r["a"].queryString({appkey:t.appkey,tokenString:e});t.axios({method:"POST",url:"/destroyAccount",data:a}).then((function(e){t.$toast.clear(),"G001"==e.data.code?(t.$toast(e.data.msg),localStorage.removeItem("RETK"),t.$router.push({name:"Login"})):t.$notify({type:"warning",message:e.data.msg})})).catch((function(e){t.$toast.clear()}))}})).catch((function(){t.$toast.clear()}))}}},c=i,l=a("2877"),u=Object(l["a"])(c,o,n,!1,null,null,null);e["default"]=u.exports},"99af":function(t,e,a){"use strict";var o=a("23e7"),n=a("d039"),r=a("e8b5"),s=a("861d"),i=a("7b0b"),c=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),f=a("b622"),w=a("2d00"),p=f("isConcatSpreadable"),g=9007199254740991,h="Maximum allowed index exceeded",v=w>=51||!n((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),b=d("concat"),m=function(t){if(!s(t))return!1;var e=t[p];return void 0!==e?!!e:r(t)},y=!v||!b;o({target:"Array",proto:!0,forced:y},{concat:function(t){var e,a,o,n,r,s=i(this),d=u(s,0),f=0;for(e=-1,o=arguments.length;e<o;e++)if(r=-1===e?s:arguments[e],m(r)){if(n=c(r.length),f+n>g)throw TypeError(h);for(a=0;a<n;a++,f++)a in r&&l(d,f,r[a])}else{if(f>=g)throw TypeError(h);l(d,f++,r)}return d.length=f,d}})},a880:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var o=a("d4ec"),n=a("bee2"),r=(a("748b"),a("0860")),s=a("2b0e");s["a"].use(r["a"]);var i=function(){function t(){Object(o["a"])(this,t)}return Object(n["a"])(t,[{key:"valid",value:function(t){for(var e in t)if(!t[e].reg.test(t[e].value))return Object(r["a"])({type:"warning",message:t[e].errorMsg}),!1;return!0}}]),t}(),c=new i},bee2:function(t,e,a){"use strict";function o(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,e,a){return e&&o(t.prototype,e),a&&o(t,a),t}a.d(e,"a",(function(){return n}))},d42c:function(t,e,a){},d4ec:function(t,e,a){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}a.d(e,"a",(function(){return o}))}}]);
//# sourceMappingURL=chunk-15f76bae.26fd378f.js.map