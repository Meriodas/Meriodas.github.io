(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6255f0cb"],{"1dde":function(e,t,n){var r=n("d039"),o=n("b622"),s=n("2d00"),a=o("species");e.exports=function(e){return s>=51||!r((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"2f14":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("99af"),n("fb6a");var r=n("d4ec"),o=n("bee2"),s=function(){function e(){Object(r["a"])(this,e)}return Object(o["a"])(e,[{key:"queryString",value:function(e){var t="";for(var n in e)t+="".concat(n,"=").concat(e[n],"&");return t.slice(0,-1)}}]),e}(),a=new s},"42dd":function(e,t,n){e.exports=n.p+"img/closeeyes.3e0e345b.jpg"},"65f0":function(e,t,n){var r=n("861d"),o=n("e8b5"),s=n("b622"),a=s("species");e.exports=function(e,t){var n;return o(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?r(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},8418:function(e,t,n){"use strict";var r=n("c04e"),o=n("9bf2"),s=n("5c6c");e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,s(0,n)):e[a]=n}},"99af":function(e,t,n){"use strict";var r=n("23e7"),o=n("d039"),s=n("e8b5"),a=n("861d"),i=n("7b0b"),c=n("50c4"),u=n("8418"),l=n("65f0"),f=n("1dde"),g=n("b622"),d=n("2d00"),p=g("isConcatSpreadable"),v=9007199254740991,b="Maximum allowed index exceeded",m=d>=51||!o((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),h=f("concat"),y=function(e){if(!a(e))return!1;var t=e[p];return void 0!==t?!!t:s(e)},w=!m||!h;r({target:"Array",proto:!0,forced:w},{concat:function(e){var t,n,r,o,s,a=i(this),f=l(a,0),g=0;for(t=-1,r=arguments.length;t<r;t++)if(s=-1===t?a:arguments[t],y(s)){if(o=c(s.length),g+o>v)throw TypeError(b);for(n=0;n<o;n++,g++)n in s&&u(f,g,s[n])}else{if(g>=v)throw TypeError(b);u(f,g++,s)}return f.length=g,f}})},a55b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("div",{staticClass:"login-nav"},[r("van-nav-bar",{attrs:{title:e.isMsgLogin?"注册登陆":"密码登陆","right-text":e.isMsgLogin?"密码登陆":"注册登陆","left-arrow":""},on:{"click-right":e.changeLoginType}})],1),r("div",{staticClass:"banner"},[r("div",{staticClass:"banner-box"},[r("img",{directives:[{name:"show",rawName:"v-show",value:!e.isFocusUser,expression:"!isFocusUser"}],staticClass:"auto-img",attrs:{src:n("42dd"),alt:""}}),r("img",{directives:[{name:"show",rawName:"v-show",value:e.isFocusUser,expression:"isFocusUser"}],staticClass:"auto-img",attrs:{src:n("cac0"),alt:""}})])]),r("div",{staticClass:"login-info"},[e.isMsgLogin?e._e():r("div",{staticClass:"login-bypsd"},[r("van-cell-group",[r("van-field",{attrs:{clearable:"",label:"账号",placeholder:"请输入账号"},on:{focus:e.foucus1},model:{value:e.userLoginInfo.username,callback:function(t){e.$set(e.userLoginInfo,"username",t)},expression:"userLoginInfo.username"}}),r("van-field",{attrs:{center:"",clearable:"",label:"密码",placeholder:"请输入密码",type:"password"},on:{focus:e.foucus2},scopedSlots:e._u([e.isMsgLogin?null:{key:"button",fn:function(){return[r("van-button",{attrs:{size:"small",type:"default"}},[e._v("忘记密码?")])]},proxy:!0}],null,!0),model:{value:e.userLoginInfo.password,callback:function(t){e.$set(e.userLoginInfo,"password",t)},expression:"userLoginInfo.password"}})],1)],1),e.isMsgLogin?r("div",{staticClass:"login-byphone"},[r("van-cell-group",[r("van-field",{attrs:{clearable:"",label:"姓名",placeholder:"请输入你的姓名"},on:{focus:e.foucus1},model:{value:e.userRegister.name,callback:function(t){e.$set(e.userRegister,"name",t)},expression:"userRegister.name"}}),r("van-field",{attrs:{clearable:"",label:"用户名",placeholder:"请输入你的用户名"},on:{focus:e.foucus1},model:{value:e.userRegister.username,callback:function(t){e.$set(e.userRegister,"username",t)},expression:"userRegister.username"}}),r("van-field",{attrs:{clearable:"",label:"密码",placeholder:"请输入你的密码",type:"password"},on:{focus:e.foucus2},model:{value:e.userRegister.password,callback:function(t){e.$set(e.userRegister,"password",t)},expression:"userRegister.password"}})],1)],1):e._e()]),r("div",{staticClass:"login-control clearfix"},[e.isMsgLogin?e._e():r("div",{staticClass:"login-control-bypsd"},[r("van-button",{staticClass:"fl login-btn theme-bgcolor",attrs:{type:"danger"},on:{click:e.login}},[e._v("登陆")]),r("van-button",{staticClass:"fl login-btn theme-bgcolor",attrs:{type:"danger"},on:{click:e.goHome}},[e._v("先逛一逛")])],1),e.isMsgLogin?r("div",{staticClass:"login-control-byphone"},[r("van-button",{staticClass:"fl login-btn theme-bgcolor",attrs:{type:"danger"},on:{click:e.register}},[e._v("注册登陆")]),r("van-button",{staticClass:"fl login-btn theme-bgcolor",attrs:{type:"danger"},on:{click:e.goHome}},[e._v("先逛一逛")])],1):e._e()])])},o=[],s=(n("b0c0"),n("c25d"),n("d4ec")),a=n("bee2"),i=(n("9a83"),n("f564")),c=n("2b0e");c["a"].use(i["a"]);var u=function(){function e(){Object(s["a"])(this,e)}return Object(a["a"])(e,[{key:"valid",value:function(e){for(var t in e)if(!e[t].reg.test(e[t].value))return Object(i["a"])({type:"warning",message:e[t].errorMsg}),!1;return!0}}]),e}(),l=new u,f=n("2f14"),g={name:"Login",data:function(){return{isMsgLogin:!1,isFocusUser:!0,userpic:"openeyes",pswpic:"closeeyes",userLoginInfo:{username:"",password:""},userRegister:{name:"",username:"",password:""}}},methods:{changeLoginType:function(){this.isMsgLogin=!this.isMsgLogin},goHome:function(){this.$router.push({name:"Home"})},foucus1:function(){this.isFocusUser=!0},foucus2:function(){this.isFocusUser=!1},login:function(){var e=this,t=this.userLoginInfo,n={username:{value:t.username,reg:/^[\w\u4e00-\u9fa5]{1,10}$/,errorMsg:"用户名不正确"},password:{value:t.password,reg:/^[A-Za-z]\w{5,15}$/,errorMsg:"密码首字母开头6到16位"}};if(l.valid(n)){this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"});var r=Object.assign({},t),o=f["a"].queryString(r);this.axios({method:"POST",url:"/login",data:o}).then((function(t){e.$toast.clear(),e.$toast(t.data.msg),200==t.data.code&&(localStorage.setItem("id",t.data.id),localStorage.setItem("CSTK",t.data.token),setTimeout((function(){e.$router.push({name:"UserInfo"})}),300))})).catch((function(t){e.$toast.clear()}))}},register:function(){var e=this,t=this.userRegister,n={name:{value:t.name,reg:/^[\w\u4e00-\u9fa5]{1,10}$/,errorMsg:"姓名格式不正确"},password:{value:t.password,reg:/^[A-Za-z]\w{5,15}$/,errorMsg:"密码首字母开头6到16位"},username:{value:t.username,reg:/^[\w\u4e00-\u9fa5]{1,10}$/,errorMsg:"昵称1到10位"}};if(l.valid(n)){this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"});var r=Object.assign({},t),o=f["a"].queryString(r);this.axios({method:"POST",url:"/register",data:o}).then((function(t){e.$toast.clear(),e.$toast(t.data.msg),200==t.data.code&&(localStorage.setItem("CSTK",t.data.objtoken),localStorage.setItem("id",t.data.id),setTimeout((function(){e.$router.push({name:"UserInfo"})}),300))})).catch((function(t){e.$toast.clear()}))}}}},d=g,p=n("2877"),v=Object(p["a"])(d,r,o,!1,null,null,null);t["default"]=v.exports},ae40:function(e,t,n){var r=n("83ab"),o=n("d039"),s=n("5135"),a=Object.defineProperty,i={},c=function(e){throw e};e.exports=function(e,t){if(s(i,e))return i[e];t||(t={});var n=[][e],u=!!s(t,"ACCESSORS")&&t.ACCESSORS,l=s(t,0)?t[0]:c,f=s(t,1)?t[1]:void 0;return i[e]=!!n&&!o((function(){if(u&&!r)return!0;var e={length:-1};u?a(e,1,{enumerable:!0,get:c}):e[1]=1,n.call(e,l,f)}))}},b0c0:function(e,t,n){var r=n("83ab"),o=n("9bf2").f,s=Function.prototype,a=s.toString,i=/^\s*function ([^ (]*)/,c="name";r&&!(c in s)&&o(s,c,{configurable:!0,get:function(){try{return a.call(this).match(i)[1]}catch(e){return""}}})},bee2:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return o}))},c25d:function(e,t,n){},cac0:function(e,t,n){e.exports=n.p+"img/openeyes.9cb53744.jpg"},d4ec:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},fb6a:function(e,t,n){"use strict";var r=n("23e7"),o=n("861d"),s=n("e8b5"),a=n("23cb"),i=n("50c4"),c=n("fc6a"),u=n("8418"),l=n("b622"),f=n("1dde"),g=n("ae40"),d=f("slice"),p=g("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),b=[].slice,m=Math.max;r({target:"Array",proto:!0,forced:!d||!p},{slice:function(e,t){var n,r,l,f=c(this),g=i(f.length),d=a(e,g),p=a(void 0===t?g:t,g);if(s(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!s(n.prototype)?o(n)&&(n=n[v],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return b.call(f,d,p);for(r=new(void 0===n?Array:n)(m(p-d,0)),l=0;d<p;d++,l++)d in f&&u(r,l,f[d]);return r.length=l,r}})}}]);
//# sourceMappingURL=chunk-6255f0cb.c97fdd77.js.map